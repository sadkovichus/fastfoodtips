import{c as K,f as D,u as Q,r as u,j as e,L as w,a as k,b as pe,d as he,C as G,e as U,g as ge,Q as fe,h as ye,P as xe,H as _e,O as J,i as je,k as ve,N as we,l as Ae,m as Ne,n as be,R as Fe,o as Se}from"./.pnpm-CYCbNkbD.js";function Cs(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const V=K({reducerPath:"authApi",baseQuery:D({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({login:t.mutation({query:s=>({url:"/auth/login",method:"POST",body:s})}),token:t.mutation({query:s=>({url:"/token/auth-token",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}})}),createUser:t.mutation({query:s=>({url:"/auth/register",method:"POST",body:JSON.stringify(s)})}),verifyCode:t.mutation({query:s=>({url:"/verify/verify-code",method:"POST",body:JSON.stringify(s)})})})}),{useLoginMutation:ie,useCreateUserMutation:ke,useVerifyCodeMutation:Te,useTokenMutation:Ls}=V,Ce="_form_jzrys_1",Pe="_usmsg_jzrys_7",ee={form:Ce,usmsg:Pe},te=({to:t,children:s,activeClassName:o})=>{const i=Q(),[r,n]=u.useState(!1);return u.useEffect(()=>{if(i.pathname===t)return n(!0);n(!1)},[i]),e.jsx(w,{to:t,className:r?o:"",children:s})};function S(...t){return t.flatMap(s=>typeof s=="string"?s:typeof s=="object"&&s!==null?Object.keys(s).filter(o=>s[o]):[]).join(" ")}const Le="_btn_18tke_1",Ee={btn:Le},L=({children:t,className:s,param:o=!1,navigateTo:i="",onClick:r,...n})=>{const c=k(),a=l=>{r==null||r(l),o&&i&&c(i,{replace:!0})};return e.jsx("button",{onClick:a,className:S(Ee.btn,s),...n,children:t})},Me="_container_1gy3l_1",$e="_title_1gy3l_6",Ue="_input_1gy3l_11",Ie="_error_1gy3l_44",F={container:Me,title:$e,"input-container":"_input-container_1gy3l_11","prev-letter":"_prev-letter_1gy3l_16","input-letter":"_input-letter_1gy3l_23",input:Ue,error:Ie},A=u.forwardRef(({title:t,error:s,onChange:o,className:i,prevLetter:r,maxLength:n,type:c="text",...a},l)=>{const[p,f]=u.useState(a.value||""),_=g=>{const h=g.target.value;if(n&&h.length>n)return console.log(n,h.length),f(y=>y);f(h),o&&o(g)};return e.jsxs("div",{className:F.container,children:[t&&e.jsx("p",{className:F.title,children:t}),e.jsxs("div",{className:F["input-container"],children:[r&&e.jsx("p",{className:F["prev-letter"],children:r}),e.jsx("input",{ref:l,className:S(F.input,i,{[F["input-letter"]]:!!r}),type:c,value:p,onChange:_,...a})]}),s&&e.jsx("p",{className:F.error,children:s})]})}),Oe="_error_1e6j1_5",P={"check-mark-container":"_check-mark-container_1e6j1_1",error:Oe,"check-mark-label":"_check-mark-label_1e6j1_11","check-mark":"_check-mark_1e6j1_1","check-mark-active":"_check-mark-active_1e6j1_29"},Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVR4nO2WMQrDMBAE7z/xcxJcRI9x6T87MCFgNyIytiO4O7LTqdLsSjpkJoQQQgjRBLhZVoAHsACzJZbfyBMCGCt51vVgCZv/8AKeFh0k7wRq3gnUvBNq/u+ap8OPcOd7MPaxbG88rS2VjM1P1YYlk/zw65G7XZsN4N5or6QZlVwIEUb+Sohw8mdChJU/EiK8/IHJ4jdtOp1E7OZPhIgvvxMij/yXEPnkq4cd88EKIYQQFpg3pSCTHqzW0ugAAAAASUVORK5CYII=",ze=u.forwardRef(({handleChecked:t,className:s,children:o,error:i,...r},n)=>{const[c,a]=u.useState(!1);u.useEffect(()=>{t==null||t(c)},[c,t]);const l=p=>{a(p.target.checked)};return e.jsxs("div",{className:S(P["check-mark-container"],s),children:[e.jsxs("label",{className:P["check-mark-label"],htmlFor:"login-conditions",...r,children:[e.jsx("input",{ref:n,id:"login-conditions",onChange:l,type:"checkbox",name:"login-conditions",style:{display:"none"}}),e.jsx("div",{className:S(P["check-mark"],{[P["check-mark-active"]]:c}),children:c&&e.jsx("img",{src:Re,alt:""})}),e.jsx("p",{className:P["conditions-text"],children:o})]}),i&&e.jsx("p",{className:P.error,children:i})]})}),E=t=>{var o;return((o=t.response)==null?void 0:o.data)||"Произошла ошибка"},T=pe,Be={id:"",password:"",balance:0,email:"",token:"",firstname:"",lastname:"",fathername:"",avatarUrl:""},ce=he({name:"auth",initialState:Be,reducers:{setUser:(t,s)=>{console.log(s.payload),localStorage.setItem("user",G.AES.encrypt(JSON.stringify(s.payload),"sidfjinvjsd938u4hfjsjfNf").toString()),t.id=s.payload.id,t.password=s.payload.password,t.balance=s.payload.balance,t.email=s.payload.email,t.token=s.payload.token,t.firstname=s.payload.firstname,t.lastname=s.payload.lastname,t.fathername=s.payload.fathername,t.avatarUrl=s.payload.avatarUrl},logout:t=>{localStorage.removeItem("user"),t.id="",t.password="",t.balance=0,t.email="",t.token="",t.firstname="",t.lastname="",t.fathername="",t.avatarUrl=""}}}),{setUser:M,logout:Ye}=ce.actions,Ve=ce.reducer,d={root:"/",auth:"/auth",create:"/auth/create",verify:"/auth/verify",pay:"/pay",settings:"/settings",changePassword:"/settings/change-password",myLink:"/my-link"},qe=({email:t,password:s})=>{var h;const{formState:{errors:o},handleSubmit:i,register:r}=U({mode:"all"}),[n,{isLoading:c}]=Te(),[a]=ie(),[l,p]=u.useState(""),f=T(),_=k(),g=async y=>{try{const j=await n(y).unwrap();if("message"in j)return p(j.message);const C=await a({email:t,password:s}).unwrap();f(M(C)),_(d.root,{replace:!0})}catch(j){E(j)}};return e.jsxs("form",{onSubmit:i(g),className:ee.form,children:[e.jsx(A,{error:(h=o.code)==null?void 0:h.message,type:"number",...r("code",{required:"Введите код",minLength:{value:4,message:"Код должен состоять из 4 цифр"}}),placeholder:"0000",title:"Ведите код из смс",maxLength:4}),l&&e.jsx("p",{className:ee.usmsg,children:l}),e.jsx(L,{children:c?"Загрузка...":"Отправить"})]})},He="_form_u7w9l_1",Qe="_usmsg_u7w9l_7",se={form:He,usmsg:Qe},Je={minLength:{value:3,message:"Email must be at least 3 letters long"},maxLength:{value:36,message:"Email should be shorter"},validate:{validFormat:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)||"Invalid email format"}},Z={minLength:{value:3,message:"Password must be at least 3 letters long"},maxLength:{value:36,message:"Password should be shorter"},validate:{noRussianLetters:t=>!/[ЁА-яё]/.test(t)||"The password must not contain Russian letters",hasUpperCase:t=>/[A-Z]/.test(t)||"The password must contain at least one capital letter",hasNumber:t=>/\d/.test(t)||"The password must contain at least one number."}},le=({onSubmit:t,isLoading:s,message:o,mode:i,btnText:r})=>{var _,g,h;const{formState:{errors:n},handleSubmit:c,register:a,clearErrors:l,setValue:p}=U({mode:"all"}),f=u.useCallback(y=>{y&&l("conditions"),p("conditions",y)},[l,p]);return u.useEffect(()=>{console.log(o)},[o]),e.jsxs("form",{onSubmit:c(t),className:se.form,children:[e.jsx(A,{error:(_=n.email)==null?void 0:_.message,type:"email",...a("email",Je),placeholder:"example@gmail.com",title:"Введите свою gmail почту"}),e.jsx(A,{error:(g=n.password)==null?void 0:g.message,type:"password",...a("password",Z),placeholder:"Пароль",title:"Введите пароль"}),i==="register"&&e.jsxs(ze,{handleChecked:f,error:(h=n.conditions)==null?void 0:h.message,...a("conditions",{required:"Вы должны согласиться с Договором аферты"}),children:[e.jsx(w,{to:"/terms",children:"Договор оферты и соглашение о персональных данных"})," При нарушении правил использования сервиса, виртуальная карта будет заблокирована вместе с вашими средствами"]}),o&&e.jsx("p",{className:se.usmsg,children:o}),e.jsx(L,{children:s?"Загрузка...":r})]})},We=()=>{const[t,{isLoading:s}]=ke(),[o,i]=u.useState(""),r=k(),n=async c=>{try{delete c.conditions;const a=await t(c).unwrap();if(console.log(a),"email"in a)return r(d.verify,{state:{email:a.email,password:a.password},replace:!0});i(a.message)}catch(a){i(a.data.message),console.log(E(a))}};return e.jsx(le,{onSubmit:n,isLoading:s,message:o,mode:"register",btnText:"Зарегистрироваться"})},Xe=()=>{const[t,{isLoading:s}]=ie(),o=k(),i=T(),[r,n]=u.useState(""),c=async a=>{try{delete a.conditions;const l=await t(a).unwrap();if(console.log(l),"message"in l)return n(l.message);i(M(l)),o(d.root,{replace:!0})}catch(l){n(l.data.message),console.log(E(l))}};return e.jsx(le,{onSubmit:c,isLoading:s,message:r,mode:"login",btnText:"Войти"})},q=K({reducerPath:"payApi",baseQuery:D({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({createPay:t.mutation({query:s=>({url:"/payments/create-payment",method:"POST",body:JSON.stringify(s)})})})}),{useCreatePayMutation:Ge}=q,H=K({reducerPath:"settingsApi",baseQuery:D({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({changeSettings:t.mutation({query:s=>({url:"/user/change-userdata",method:"PATCH",body:JSON.stringify(s)})}),changePassword:t.mutation({query:s=>({url:"/user/change-userpassword",method:"PATCH",body:JSON.stringify(s)})}),uploadAvatar:t.mutation({query:s=>({url:"/uploads/upload-avatar",method:"PATCH",body:JSON.stringify(s)})})})}),{useChangeSettingsMutation:Ze,useChangePasswordMutation:Ke,useUploadAvatarMutation:De}=H,et=ge({reducer:{authReducer:Ve,[V.reducerPath]:V.reducer,[q.reducerPath]:q.reducer,[H.reducerPath]:H.reducer},middleware:t=>t().concat(V.middleware).concat(q.middleware).concat(H.middleware)}),tt=new fe,st=({children:t})=>e.jsx(ye,{client:tt,children:e.jsx(xe,{store:et,children:e.jsx(_e,{children:t})})}),ot="_auth_1pu5n_1",nt="_container_1pu5n_9",oe={auth:ot,container:nt},rt=()=>e.jsx("div",{className:oe.auth,children:e.jsx("section",{className:oe.container,children:e.jsx(J,{})})}),x="http://13.61.146.73/",W="".concat(x,"/favicon.ico"),ne={en:[{path:"/",title:"FastFoodTips - Home Page | Marketplace for Online Goods",description:"Welcome to FastFoodTips, the perfect platform created for you to make money from your work. Create, sell, develop, and we will help you with this! We always welcome new people, with love FastFoodTips!",ogTitle:"FastFoodTips - Home Page | Connect, Learn, Collaborate",ogDescription:"Explore FastFoodTips, a platform where people from all over the world post their creations.Explore them, participate in competitions and be active. Join us today!",ogImage:"favicon.ico",ogUrl:" ".concat(x," /")},{path:"/my-link",title:"FastFoodTips - Link Page | Marketplace for Online Goods",description:"Welcome to FastFoodTips, the perfect platform created for you to make money from your work. Create, sell, develop, and we will help you with this! We always welcome new people, with love FastFoodTips!",ogTitle:"FastFoodTips - Home Page | Connect, Learn, Collaborate",ogDescription:"Explore FastFoodTips, a platform where people from all over the world post their creations.Explore them, participate in competitions and be active. Join us today!",ogImage:"favicon.ico",ogUrl:"".concat(x,"/my-link")},{path:"/auth",title:"FastFoodTips - Sign In | Access Your Account",description:"Login to your FastFoodTips account to access your personalized profile, connect with others, and take advantage of exclusive features.",ogTitle:"FastFoodTips - Sign In | Join the Marketplace",ogDescription:"Log in to your FastFoodTips account to stay connected with the global community of programmers, manage your projects, and engage in meaningful technical discussions.",ogUrl:"".concat(x,"/auth")},{path:"/auth/create",title:"FastFoodTips - Sign Up | Create Your Account",description:"Sign up for FastFoodTips to become a part of a dynamic network of developers. Personalize your profile, access tutorials, and engage with experts in coding and programming.",ogTitle:"FastFoodTips - Sign Up | Join the Community of Programmers",ogDescription:"Register now and start your journey on FastFoodTips, a platform designed for developers to connect, learn, and grow. Unlock exclusive content and tools for your programming career.",ogUrl:"".concat(x," /auth/create")},{path:"/auth/verify",title:"FastFoodTips - Verification | Confirm Your Email",description:"Complete the verification process by confirming your email address. This step ensures the security of your account and allows you to activate your full FastFoodTips membership.",ogTitle:"FastFoodTips - Verification | Activate Your Account",ogDescription:"Verify your email to finish setting up your FastFoodTips account. Ensure your information is accurate and secure to start connecting with other developers on the platform.",ogUrl:"".concat(x," / auth / verify")},{path:"/settings",title:"FastFoodTips - Settings | Customize Your Experience",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"FastFoodTips - Settings | Manage Your Account and Preferences",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(x,"/settings")},{path:"/settings/change-password",title:"FastFoodTips - Change your password | Customize Your Experience",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"FastFoodTips - CHange Your Password | Manage Your Account and Preferences",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(x,"/settings/change-password")},{path:"*",title:"FastFoodTips - Page Not Found | 404 Error",description:"Oops! The page you are looking for does not exist. Please return to the homepage or contact our support team if you need assistance.",ogTitle:"FastFoodTips - 404 Page Not Found | Lost in Space?",ogDescription:"The page you requested couldn't be found. Go back to the home page or reach out for help if you need assistance navigating FastFoodTips.",ogUrl:"".concat(x,"/404")}]},at=t=>({"@context":"http://schema.org","@type":"WebPage",url:"".concat(x).concat(t),name:"FastFoodTips",description:"FastFoodTips это онлайн сервис для отправки чаевых."}),it=(t,s="en")=>{const o=ne[s].find(i=>i.path===t)||ne[s].find(i=>i.path==="*");return{title:(o==null?void 0:o.title)||"FastFoodTips",meta:{charset:"utf-8",viewport:"width=device-width, initial-scale=1",description:(o==null?void 0:o.description)||"FastFoodTips is your go-to platform.","og:title":(o==null?void 0:o.ogTitle)||(o==null?void 0:o.title),"og:description":(o==null?void 0:o.ogDescription)||(o==null?void 0:o.description),"og:url":(o==null?void 0:o.ogUrl)||"".concat(x).concat(t),"og:image":(o==null?void 0:o.ogImage)||W,"og:type":"website","twitter:card":"summary_large_image","twitter:title":(o==null?void 0:o.ogTitle)||(o==null?void 0:o.title),"twitter:description":(o==null?void 0:o.ogDescription)||(o==null?void 0:o.description),"twitter:image":(o==null?void 0:o.ogImage)||W},link:[{rel:"icon",href:W}],script:[{type:"application/ld+json",innerHTML:JSON.stringify(at(t))}]}},ct=()=>{const t=Q(),s=it(t.pathname);return e.jsxs(e.Fragment,{children:[e.jsxs(je,{children:[e.jsx("title",{children:s.title}),e.jsx("meta",{charSet:s.meta.charset}),e.jsx("meta",{name:"viewport",content:s.meta.viewport}),e.jsx("meta",{name:"description",content:s.meta.description}),e.jsx("meta",{property:"og:title",content:s.meta["og:title"]}),e.jsx("meta",{property:"og:description",content:s.meta["og:description"]}),e.jsx("meta",{property:"og:url",content:s.meta["og:url"]}),e.jsx("meta",{property:"og:image",content:s.meta["og:image"]}),e.jsx("meta",{property:"og:type",content:s.meta["og:type"]}),e.jsx("meta",{name:"twitter:card",content:s.meta["twitter:card"]}),e.jsx("meta",{name:"twitter:title",content:s.meta["twitter:title"]}),e.jsx("meta",{name:"twitter:description",content:s.meta["twitter:description"]}),e.jsx("meta",{name:"twitter:image",content:s.meta["twitter:image"]}),e.jsx("link",{rel:"icon",href:s.link[0].href}),e.jsx("script",{type:"application/ld+json",children:s.script[0].innerHTML})]}),e.jsx(J,{})]})},lt="_main_a9rdr_1",dt="_content_a9rdr_6",ut="_container_a9rdr_12",mt="_nav_a9rdr_19",pt="_close_a9rdr_36",ht="_active_a9rdr_48",gt="_overlay_a9rdr_52",ft="_list_a9rdr_66",yt="_btn_a9rdr_87",N={main:lt,content:dt,container:ut,nav:mt,close:pt,active:ht,overlay:gt,list:ft,btn:yt},I=ve,xt="_header_1agdk_1",_t="_balance_1agdk_9",jt="_exit_1agdk_13",vt="_container_1agdk_25",O={header:xt,balance:_t,exit:jt,container:vt},wt=({handleActive:t})=>{const{email:s,balance:o}=I(i=>i.authReducer);return e.jsx("header",{className:O.header,children:e.jsxs("div",{className:O.container,children:[e.jsxs("p",{className:O.balance,children:[o,"₽"]}),e.jsx(w,{to:d.root,children:s}),e.jsx("button",{className:O.exit,onClick:()=>t(!0),children:"≡"})]})})},de=t=>{try{const o=G.AES.decrypt(t,"sidfjinvjsd938u4hfjsjfNf").toString(G.enc.Utf8);return JSON.parse(o)}catch(s){return console.log("Failed to decrypt data:",s),null}},At=({handleActive:t,active:s})=>{const o=T(),i=Q(),r=k();u.useEffect(()=>{t(!1)},[i]);const n=()=>{o(Ye()),r(d.auth,{replace:!0})};return e.jsxs("nav",{className:S(N.nav,{[N.active]:s}),children:[e.jsx("p",{className:N.close,onClick:()=>t(!1),children:"X"}),e.jsxs("ul",{className:N.list,children:[e.jsx("li",{children:e.jsx(w,{to:d.root,children:"Главная"})}),e.jsx("li",{children:e.jsx(w,{to:d.settings,children:"Настройки"})}),e.jsx("li",{children:e.jsx(w,{to:d.myLink,children:"Моя ссылка"})})]}),e.jsx("button",{type:"button",onClick:n,className:N.btn,children:"Выйти"})]})},Nt=()=>{const{email:t}=I(c=>c.authReducer),s=T(),o=k(),[i,r]=u.useState(!1),n=u.useMemo(()=>de(localStorage.getItem("user")||"null"),[]);return u.useEffect(()=>{if(!t&&!(n!=null&&n.email))return o(d.auth,{replace:!0});s(M(n))},[n,t]),e.jsxs("div",{className:N.main,children:[i&&e.jsx("div",{className:N.overlay,onClick:()=>r(!1)}),e.jsxs("div",{className:N.content,children:[e.jsx(wt,{handleActive:r}),e.jsx("section",{className:N.container,children:e.jsx(J,{})})]}),e.jsx(At,{handleActive:r,active:i})]})},bt="_form_12jsg_1",Ft="_msg_12jsg_10",re={form:bt,msg:Ft};function ue(t){const[s,o]=u.useState(),[i,r]=u.useState(!0),n=async()=>{r(!0);try{const c=await de(t);o(c),r(!1)}catch(c){return null}};return u.useEffect(()=>{n()},[]),[s,i]}const St=()=>{var g,h;const{formState:{errors:t},handleSubmit:s,register:o,reset:i}=U({mode:"all"}),[r,{isLoading:n}]=Ke(),[c,a]=ue(localStorage.getItem("user")),l=T(),[p,f]=u.useState(""),_=async y=>{try{await r({...y,userId:c.id}).unwrap(),f("Пароль успешно изменен"),l(M({...c,...y})),i()}catch(j){f(j.data.message),console.log(E(j))}};return a?e.jsx("p",{children:"Загрузка..."}):e.jsxs("form",{className:re.form,onSubmit:s(_),children:[e.jsx(A,{error:(g=t.newPassword)==null?void 0:g.message,type:"password",...o("newPassword",Z),title:"Новый пароль"}),e.jsx(A,{error:(h=t.oldPassword)==null?void 0:h.message,type:"text",...o("oldPassword",Z),title:"Старый пароль"}),p&&e.jsx("p",{className:re.msg,children:p}),e.jsx(L,{children:n?"Загрузка...":"Отправить"})]})},kt="_form_12jsg_1",Tt="_msg_12jsg_10",ae={form:kt,msg:Tt},Ct=()=>{var g,h,y;const[t,s]=ue(localStorage.getItem("user")),[o,{isLoading:i}]=Ze(),r=T(),[n,c]=u.useState(""),{formState:{errors:a},handleSubmit:l,register:p,reset:f}=U({mode:"all",defaultValues:{firstname:"",lastname:"",fathername:""}});u.useEffect(()=>{t&&f({firstname:t.firstname||"",lastname:t.lastname||"",fathername:t.fathername||""})},[t,f]);const _=async j=>{try{const C=await o({...t,...j}).unwrap();c(C.message),r(M({...t,...j}))}catch(C){c(C.data.message),console.log(E(C))}};return s?e.jsx("p",{children:"Загрузка..."}):e.jsxs("form",{className:ae.form,onSubmit:l(_),children:[e.jsx(A,{error:(g=a.firstname)==null?void 0:g.message,type:"text",...p("firstname"),placeholder:"Иван",title:"Имя"}),e.jsx(A,{error:(h=a.lastname)==null?void 0:h.message,type:"text",...p("lastname"),placeholder:"Иванов",title:"Фамилия"}),e.jsx(A,{error:(y=a.fathername)==null?void 0:y.message,type:"text",...p("fathername"),placeholder:"Иванович",title:"Отчество"}),n&&e.jsx("p",{className:ae.msg,children:n}),e.jsx(L,{children:i?"Загрузка...":"Применить"})]})},Pt="_login_10iu6_1",Lt="_top_10iu6_7",Et="_title_10iu6_10",R={login:Pt,top:Lt,title:Et},Mt=()=>e.jsxs("div",{className:R.login,children:[e.jsxs("header",{className:R.top,children:[e.jsx("h1",{className:R.title,children:"Войти в аккаунт"}),e.jsxs("p",{className:R.subtitle,children:["Ещё не аккаунта? ",e.jsx(w,{to:d.create,children:"Создайте его"}),"."]})]}),e.jsx(Xe,{})]}),$t="_login_10iu6_1",Ut="_top_10iu6_7",It="_title_10iu6_10",z={login:$t,top:Ut,title:It},Ot=()=>e.jsxs("div",{className:z.login,children:[e.jsxs("header",{className:z.top,children:[e.jsx("h1",{className:z.title,children:"Создайте аккаунт"}),e.jsxs("p",{className:z.subtitle,children:["Уже есть аккаунт? ",e.jsx(w,{to:d.auth,children:"Войти"}),"."]})]}),e.jsx(We,{})]}),Rt="_login_10iu6_1",zt="_top_10iu6_7",Bt="_title_10iu6_10",B={login:Rt,top:zt,title:Bt},Yt=()=>{const t=Q();return console.log(t),t.state?e.jsxs("div",{className:B.login,children:[e.jsxs("header",{className:B.top,children:[e.jsx("h1",{className:B.title,children:"Введите код пришедший вам по смс"}),e.jsxs("p",{className:B.subtitle,children:["Не приходит код? ",e.jsx(w,{to:d.create,children:"Отправить код снова"}),"."]})]}),e.jsx(qe,{email:t.state.email,password:t.state.password})]}):e.jsx(we,{to:d.create,replace:!0})},Vt="_title_c49cy_1",qt="_content_c49cy_5",Ht="_card_c49cy_24",Qt="_colmn_c49cy_36",Jt="_middle_c49cy_47",Wt="_header_c49cy_52",Xt="_value_c49cy_56",m={title:Vt,content:qt,"user-info":"_user-info_c49cy_10",card:Ht,colmn:Qt,"on-week":"_on-week_c49cy_39",middle:Jt,header:Wt,value:Xt,"info-of-week":"_info-of-week_c49cy_66"},Gt="_info_1bd8p_6",Zt="_id_1bd8p_10",Kt="_photo_1bd8p_14",$={"text-info":"_text-info_1bd8p_1",info:Gt,id:Zt,photo:Kt},Dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADPElEQVR4nO3dT4iNYRTH8WMMJiUjKWMlJYVkIQukSCJRLCz92dopyciCTCHKzCilrCgL42+yGtmwlyEpKSzMjMlsRnNN/nz11LNSsxjmfc957jmfms105977e8575977vM9zXpEQQgghhOAc0AKsB04Ad4ABYBSYyD+j+Xd9+Tbpti3az7vpAB1AF/CJqfuY/7ZDO0fxgAVAD9Dg/zXyfbVr5yoSsA8YZvoNpfvWzlcMYGY+kqvWnR5LO69pQBtwj/qkx2rTzm35ldFH/R4Crdr5zanp39RkLmvnt/gGruk3sFd7HEwA5gOf0TeUPmaLd0AvdvSIZ8BiYBw7GsAS8SpPaVjTJY4nCtM8kzUfXE5I5plYq9aJN0Andh0Xb/L5DKtuizfAK+waEG+Ar9g1It7kU65WfRdvME68wTjxBuPEG4wTbzBOvME48QbjxBuME28wTrzBOPEG48QbjBNv0gQedo2LNxWtbJ8ug+JN3ulk1UvxBriFXTfFm7SQALuOiTfAWuxaJd4AM4wulHsvXgGnsadTnG93njC22HqReGZsO8I58Q5YmDswaBsE5mmPhwnAfgNb2vZoj4MpwHXFglzSzm8OMBt4rFCM+9FAYPKizAWe1LxHfXa9h15hgNaa9qxfi4YBUytMpao7pJoUFdPOVxyiILYQBbGFKIgtREFsIQpiC1EQW4iC2AHsrLogwEbtnOYBc/Jp3TpWNaZzMAe0M5sEzAIOA++oXz+wQXsMLLWFPZJbIml7Cuzy2pqpPS1GM9Jr8W/pVXrURUtyYEWeWh/DvgZwA1gjzQbYBDzK565L9BzYLaUDtuUwzeIZsFVKAyxPTcBoXv3ASinkU9NFY6sRq5IyXkjfncTwG/YL/HkNrBZLgEPAN/waAw5a2VJgcQW7lvNpTDQLckUtul3dWsU4pZ3csJN1F2MH8Es7tWFpbLbXuX3gi3biAtRzPRLgqnbSgvRWXYxlwE/tlAX5ASytsiDp2n/Bwt6TvCrdcntwq0Yq2X8CbNFOVrDNVRTkrHaqgp2poiAPtFMV7G4VBXmrnapgb6ooSHwZ/HfD3lryWTf91yPRTlS6KEizFySEEEIIIYQQZHr8AYVpHcCxLEpzAAAAAElFTkSuQmCC",me=()=>{const t=I(n=>n.authReducer),[s,{isLoading:o}]=De(),i=T(),r=n=>{if(n.target.files&&n.target.files[0]){const c=n.target.files[0];if(!c)return;try{const a=new FileReader;a.readAsDataURL(c),a.onload=async function(){console.log(a.result),await s({avatar:a.result,id:t.id}).unwrap(),console.log("fff"),i(M({...t,avatarUrl:a.result}))},a.onerror=function(){console.log(a.error)}}catch(a){console.log(a)}}};return u.useEffect(()=>{console.log(t)},[t]),o?e.jsx("p",{children:"Загрузка..."}):e.jsxs("div",{className:$["text-info"],children:[e.jsxs("label",{htmlFor:"user-photo-input",className:$.photo,children:[e.jsx("img",{src:t.avatarUrl?t.avatarUrl.toString():Dt,alt:""}),e.jsx("input",{onChange:r,type:"file",id:"user-photo-input"})]}),e.jsxs("div",{className:$.info,children:[e.jsx("p",{className:$.id,children:t.id}),e.jsx("p",{className:$.email,children:t.email})]})]})},es=()=>{const{balance:t}=I(s=>s.authReducer);return e.jsxs("div",{className:m.card,children:[e.jsxs("div",{className:S(m.header,m.colmn),children:[e.jsx("p",{className:m.haw,children:"Доступно для вывода"}),e.jsxs("p",{className:m.value,children:[t," ₽"]})]}),e.jsxs("div",{className:S(m.middle,m.colmn),children:[e.jsx("p",{className:m["on-week"],children:"За неделю"}),e.jsxs("div",{className:m["info-of-week"],children:[e.jsxs("div",{className:m.colmn,children:["Чаевые",e.jsx("p",{className:m.value,children:"0 ₽"})]}),e.jsxs("div",{className:m.colmn,children:["Выведено",e.jsx("p",{className:m.value,children:"0 ₽"})]})]})]})]})},ts=()=>e.jsxs("div",{className:m.home,children:[e.jsx("h1",{className:m.title,children:"Ваша информация"}),e.jsxs("div",{className:m.content,children:[e.jsxs("section",{className:m["user-info"],children:[e.jsx(me,{}),e.jsx(es,{})]}),e.jsx("section",{className:m["last-transactions"],children:e.jsx("h1",{className:m.title,children:"Последние действия"})})]})]}),ss="_qrcode_10fi2_1",os="_title_10fi2_6",ns="_bottom_10fi2_10",rs="_link_10fi2_23",as="_content_10fi2_29",is="_done_10fi2_43",cs="_error_10fi2_47",ls="_code_10fi2_51",ds="_copy_10fi2_56",v={qrcode:ss,title:os,bottom:ns,link:rs,content:as,done:is,error:cs,code:ls,"copy-link":"_copy-link_10fi2_56",copy:ds},us=()=>{var c,a;const t=I(l=>l.authReducer),[s,o]=u.useState({type:!1,text:""}),i=d.pay+"/"+((c=t.id)==null?void 0:c.toString()),r="http://13.61.146.73/"+i,n=async()=>{try{await navigator.clipboard.writeText(r),o({type:!0,text:"Ссылка скопирована!"})}catch(l){o({type:!1,text:"Ссылка не была скопирована!"})}};return e.jsxs("div",{className:v["my-link"],children:[e.jsx("h1",{className:v.title,children:"Ваш QR код для получения чаевых"}),e.jsxs("div",{className:v.content,children:[e.jsx("div",{onClick:n,className:v["copy-link"],children:e.jsxs("div",{className:v.copy,children:[r,s.text&&e.jsx("p",{className:v[s.type?"done":"error"],children:s.text})]})}),e.jsxs("div",{className:v.bottom,children:[e.jsx(w,{className:v.link,to:i,children:e.jsx(Ae,{bgColor:"#2b2738",fgColor:"white",value:"http://13.61.146.73/"+i,className:v.qrcode})}),e.jsx("p",{className:v.code,children:(a=t.id)==null?void 0:a.toString()})]})]})]})},ms="_pay_1gn6k_1",ps="_form_1gn6k_7",hs="_title_1gn6k_12",Y={pay:ms,form:ps,title:hs},gs=()=>{const[t,s]=u.useState(""),o=k(),i=c=>{var l;const a=c.replace(/[^a-zA-Z0-9]/g,"");return((l=a.match(/.{1,3}/g))==null?void 0:l.join("-"))||a},r=c=>{const a=c.target.value,l=i(a);s(l)},n=c=>{c.preventDefault(),o("".concat(d.pay,"/").concat(t))};return e.jsx("div",{className:Y.pay,children:e.jsxs("form",{className:Y.form,onSubmit:n,children:[e.jsx("p",{className:Y.title,children:"Введите код получателя"}),e.jsx(A,{maxLength:7,onChange:r,value:t,type:"text",placeholder:"Введите код получателя",className:Y.input}),e.jsx(L,{children:"Перейти"})]})})},fs="_pay_1s2b0_1",ys="_container_1s2b0_7",xs="_form_1s2b0_14",X={pay:fs,container:ys,form:xs},_s=()=>{var c;const{id:t}=Ne(),{formState:{errors:s},handleSubmit:o,register:i}=U({mode:"all"}),[r]=Ge(),n=async a=>{try{const l=await r({amount:a.amount,userId:t}).unwrap();window.location.href=l.confirmationUrl}catch(l){console.log(E(l))}};return e.jsx("div",{className:X.pay,onSubmit:o(n),children:e.jsx("div",{className:X.container,children:e.jsxs("form",{className:X.form,children:[e.jsx(A,{error:(c=s.amount)==null?void 0:c.message,type:"text",...i("amount"),placeholder:"Amount",title:"Amount"}),e.jsx(L,{children:"Перевести"})]})})})},js="_title_u1qmu_1",vs="_container_u1qmu_5",ws="_left_u1qmu_20",As="_right_u1qmu_20",Ns="_active_u1qmu_28",b={title:js,container:vs,left:ws,right:As,active:Ns},bs=()=>e.jsxs("div",{className:b.settings,children:[e.jsx("h1",{className:b.title,children:"Настройки профиля"}),e.jsxs("div",{className:b.container,children:[e.jsxs("div",{className:b.left,children:[e.jsx(me,{}),e.jsx(te,{activeClassName:b.active,to:d.changePassword,children:"→ Сменить пароль"}),e.jsx(te,{activeClassName:b.active,to:d.settings,children:"→ Мои данные"})]}),e.jsxs("div",{className:b.right,children:[e.jsx("h1",{className:b.title,children:"Ваши данные"}),e.jsx(J,{})]})]})]}),Fs=[{path:d.root,element:e.jsx(ct,{}),children:[{element:e.jsx(Nt,{}),children:[{index:!0,element:e.jsx(ts,{})},{path:d.settings,element:e.jsx(bs,{}),children:[{index:!0,element:e.jsx(Ct,{})},{path:d.changePassword,element:e.jsx(St,{})}]},{path:d.myLink,element:e.jsx(us,{})}]},{path:d.pay,element:e.jsx(gs,{})},{path:d.pay+"/:id",element:e.jsx(_s,{})},{path:d.auth,element:e.jsx(rt,{}),children:[{path:d.create,element:e.jsx(Ot,{})},{index:!0,element:e.jsx(Mt,{})},{path:d.verify,element:e.jsx(Yt,{})}]}]},{path:"*",element:e.jsx("p",{children:"Not found page"})}],Ss=be(Fs),ks=()=>e.jsx(Fe,{router:Ss}),Ts=()=>e.jsx(st,{children:e.jsx(ks,{})});Se(document.getElementById("root")).render(e.jsx(Ts,{}));export{Cs as __vite_legacy_guard};
