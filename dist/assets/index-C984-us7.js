import{c as te,f as se,j as e,E as ke,u as K,r as u,L as $,a as L,b as Se,d as $e,C as M,e as O,g as Te,Q as Fe,h as Pe,P as Ce,H as Be,O as X,i as Ae,k as Le,N as me,l as De,m as Ee,n as Ue,R as Ie,o as qe}from"./.pnpm-Bis15ftA.js";function eo(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();const W=te({reducerPath:"authApi",baseQuery:se({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({login:t.mutation({query:s=>({url:"/auth/login",method:"POST",body:s})}),token:t.mutation({query:s=>({url:"/token/auth-token",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}})}),createUser:t.mutation({query:s=>({url:"/auth/register",method:"POST",body:JSON.stringify(s)})}),verifyCode:t.mutation({query:s=>({url:"/verify/verify-code",method:"POST",body:JSON.stringify(s)})}),getUserById:t.mutation({query:s=>({url:"/user/get-user",method:"POST",body:s})})})}),{useLoginMutation:pe,useCreateUserMutation:Oe,useVerifyCodeMutation:Re,useTokenMutation:so,useGetUserByIdMutation:oe}=W,Ve="_form_jzrys_1",He="_usmsg_jzrys_7",re={form:Ve,usmsg:He},ze=({error:t,resetErrorBoundary:s})=>e.jsxs("div",{role:"alert",children:[e.jsx("p",{children:"Что-то пошло не так:"}),e.jsx("pre",{children:t.message}),e.jsx("button",{onClick:s,children:"Попробовать снова"})]}),Je=({children:t})=>e.jsx(ke,{FallbackComponent:ze,onReset:()=>{window.location.href="/"},children:t}),ae=({to:t,children:s,activeClassName:a})=>{const o=K(),[r,n]=u.useState(!1);return u.useEffect(()=>{if(o.pathname===t)return n(!0);n(!1)},[o]),e.jsx($,{to:t,className:r?a:"",children:s})};function w(...t){return t.flatMap(s=>typeof s=="string"?s:typeof s=="object"&&s!==null?Object.keys(s).filter(a=>s[a]):[]).join(" ")}const Qe="_btn_pdxfc_2",We={btn:Qe},A=({children:t,className:s,param:a=!1,navigateTo:o="",onClick:r,...n})=>{const c=L(),i=l=>{r==null||r(l),a&&o&&c(o,{replace:!0})};return e.jsx("button",{onClick:i,className:w(We.btn,s),...n,children:t})},Ge="_container_1gy3l_1",Ze="_title_1gy3l_6",Ke="_input_1gy3l_11",Xe="_error_1gy3l_44",C={container:Ge,title:Ze,"input-container":"_input-container_1gy3l_11","prev-letter":"_prev-letter_1gy3l_16","input-letter":"_input-letter_1gy3l_23",input:Ke,error:Xe},T=u.forwardRef(({title:t,error:s,onChange:a,className:o,prevLetter:r,maxLength:n,type:c="text",...i},l)=>{const[g,p]=u.useState(i.value||""),h=f=>{const _=f.target.value;if(n&&_.length>n)return p(j=>j);p(_),a&&a(f)};return e.jsxs("div",{className:C.container,children:[t&&e.jsx("p",{className:C.title,children:t}),e.jsxs("div",{className:C["input-container"],children:[r&&e.jsx("p",{className:C["prev-letter"],children:r}),e.jsx("input",{ref:l,className:w(C.input,o,{[C["input-letter"]]:!!r}),type:c,value:g,onChange:h,...i})]}),s&&e.jsx("p",{className:C.error,children:s})]})}),Ye="_error_g6l06_5",U={"check-mark-container":"_check-mark-container_g6l06_1",error:Ye,"check-mark-label":"_check-mark-label_g6l06_11","check-mark":"_check-mark_g6l06_1","check-mark-active":"_check-mark-active_g6l06_29"},Me="/assets/icons8-%D0%B3%D0%B0%D0%BB%D0%BE%D1%87%D0%BA%D0%B0-48-DOPh5HhT.png",et=u.forwardRef(({handleChecked:t,className:s,children:a,error:o,...r},n)=>{const[c,i]=u.useState(!1);u.useEffect(()=>{t==null||t(c)},[c,t]);const l=g=>{i(g.target.checked)};return e.jsxs("div",{className:w(U["check-mark-container"],s),children:[e.jsxs("label",{className:U["check-mark-label"],htmlFor:"login-conditions",...r,children:[e.jsx("input",{ref:n,id:"login-conditions",onChange:l,type:"checkbox",name:"login-conditions",style:{display:"none"}}),e.jsx("div",{className:w(U["check-mark"],{[U["check-mark-active"]]:c}),children:c&&e.jsx("img",{src:Me,alt:""})}),e.jsx("p",{className:U["conditions-text"],children:a})]}),o&&e.jsx("p",{className:U.error,children:o})]})}),D=t=>{var a;return((a=t.response)==null?void 0:a.data)||"Произошла ошибка"},E=Se,tt={id:"",password:"",balance:0,email:"",token:"",firstname:"",lastname:"",fathername:"",avatarurl:""},he=$e({name:"auth",initialState:tt,reducers:{setUser:(t,s)=>{localStorage.setItem("user",M.AES.encrypt(JSON.stringify(s.payload),"sidfjinvjsd938u4hfjsjfNf").toString()),t.id=s.payload.id||"",t.password=s.payload.password||"",t.balance=s.payload.balance||0,t.email=s.payload.email||"",t.token=s.payload.token||"",t.firstname=s.payload.firstname||"",t.lastname=s.payload.lastname||"",t.fathername=s.payload.fathername||"",t.avatarurl=s.payload.avatarurl||""},logout:t=>{localStorage.removeItem("user"),t.id="",t.password="",t.balance=0,t.email="",t.token="",t.firstname="",t.lastname="",t.fathername="",t.avatarurl=""}}}),{setUser:I,logout:ge}=he.actions,st=he.reducer,m={root:"/",auth:"/auth",create:"/auth/create",verify:"/auth/verify",pay:"/pay",settings:"/settings",changePassword:"/settings/change-password",myLink:"/my-link",license:"/agreement",authorInfo:"/author-info"},ot=({email:t,password:s})=>{var _;const{formState:{errors:a},handleSubmit:o,register:r}=O({mode:"all"}),[n,{isLoading:c}]=Re(),[i]=pe(),[l,g]=u.useState(""),p=E(),h=L(),f=async j=>{try{const N=await n(j).unwrap();if("message"in N)return g(N.message);const b=await i({email:t,password:s}).unwrap();p(I(b)),h(m.root,{replace:!0})}catch(N){D(N)}};return e.jsxs("form",{onSubmit:o(f),className:re.form,children:[e.jsx(T,{error:(_=a.code)==null?void 0:_.message,type:"number",...r("code",{required:"Введите код",minLength:{value:4,message:"Код должен состоять из 4 цифр"}}),placeholder:"0000",title:"Ведите код из смс",maxLength:4}),l&&e.jsx("p",{className:re.usmsg,children:l}),e.jsx(A,{children:c?"Загрузка...":"Отправить"})]})},nt="_form_u7w9l_1",rt="_usmsg_u7w9l_7",ie={form:nt,usmsg:rt},at={minLength:{value:3,message:"Email must be at least 3 letters long"},maxLength:{value:36,message:"Email should be shorter"},validate:{validFormat:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)||"Invalid email format"}},ee={minLength:{value:3,message:"Password must be at least 3 letters long"},maxLength:{value:36,message:"Password should be shorter"},validate:{noRussianLetters:t=>!/[ЁА-яё]/.test(t)||"The password must not contain Russian letters",hasUpperCase:t=>/[A-Z]/.test(t)||"The password must contain at least one capital letter",hasNumber:t=>/\d/.test(t)||"The password must contain at least one number."}},fe=({onSubmit:t,isLoading:s,message:a,mode:o,btnText:r})=>{var h,f,_;const{formState:{errors:n},handleSubmit:c,register:i,clearErrors:l,setValue:g}=O({mode:"all"}),p=u.useCallback(j=>{j&&l("conditions"),g("conditions",j)},[l,g]);return e.jsxs("form",{onSubmit:c(t),className:ie.form,children:[e.jsx(T,{error:(h=n.email)==null?void 0:h.message,type:"email",...i("email",at),placeholder:"example@gmail.com",title:"Введите свою gmail почту"}),e.jsx(T,{error:(f=n.password)==null?void 0:f.message,type:"password",...i("password",ee),placeholder:"Пароль",title:"Введите пароль"}),o==="register"&&e.jsxs(et,{handleChecked:p,error:(_=n.conditions)==null?void 0:_.message,...i("conditions",{required:"Вы должны согласиться с Договором аферты"}),children:[e.jsx($,{to:m.license,children:"Договор оферты и соглашение о персональных данных"})," При нарушении правил использования сервиса, виртуальная карта будет заблокирована вместе с вашими средствами"]}),a&&e.jsx("p",{className:ie.usmsg,children:a}),e.jsx(A,{children:s?"Загрузка...":r})]})},it=()=>{const[t,{isLoading:s}]=Oe(),[a,o]=u.useState(""),r=L(),n=async c=>{try{delete c.conditions;const i=await t(c).unwrap();if("email"in i)return r(m.verify,{state:{email:i.email,password:i.password},replace:!0});o(i.message)}catch(i){o(i.data.message),console.log(D(i))}};return e.jsx(fe,{onSubmit:n,isLoading:s,message:a,mode:"register",btnText:"Зарегистрироваться"})},ct=()=>{const[t,{isLoading:s}]=pe(),a=L(),o=E(),[r,n]=u.useState(""),c=async i=>{try{delete i.conditions;const l=await t(i).unwrap();if("message"in l)return n(l.message);o(I(l)),a(m.root,{replace:!0})}catch(l){n(l.data.message),console.log(D(l))}};return e.jsx(fe,{onSubmit:c,isLoading:s,message:r,mode:"login",btnText:"Войти"})},G=te({reducerPath:"payApi",baseQuery:se({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({createPay:t.mutation({query:s=>({url:"/payments/create-payment",method:"POST",body:JSON.stringify(s)})})})}),{useCreatePayMutation:lt}=G,Z=te({reducerPath:"settingsApi",baseQuery:se({baseUrl:"/api/",credentials:"include",prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),endpoints:t=>({changeSettings:t.mutation({query:s=>({url:"/user/change-userdata",method:"PATCH",body:JSON.stringify(s)})}),changePassword:t.mutation({query:s=>({url:"/user/change-userpassword",method:"PATCH",body:JSON.stringify(s)})}),uploadAvatar:t.mutation({query:s=>({url:"/uploads/upload-avatar",method:"PATCH",body:JSON.stringify(s)})})})}),{useChangeSettingsMutation:ut,useChangePasswordMutation:dt,useUploadAvatarMutation:mt}=Z,pt=Te({reducer:{authReducer:st,[W.reducerPath]:W.reducer,[G.reducerPath]:G.reducer,[Z.reducerPath]:Z.reducer},middleware:t=>t().concat(W.middleware).concat(G.middleware).concat(Z.middleware)}),xe=u.createContext(void 0),ht=({children:t})=>{const[s,a]=u.useState({});return e.jsx(xe.Provider,{value:{dynamicMeta:s,setDynamicMeta:a},children:t})},gt=new Fe,ft=({children:t})=>e.jsx(Pe,{client:gt,children:e.jsx(Ce,{store:pt,children:e.jsx(ht,{children:e.jsx(Be,{children:t})})})}),xt="_auth_1pu5n_1",_t="_container_1pu5n_9",ce={auth:xt,container:_t},jt=()=>e.jsx("div",{className:ce.auth,children:e.jsx("section",{className:ce.container,children:e.jsx(X,{})})}),y="httpы://fastfood-tips.ru",Y="".concat(y,"/favicon.ico"),le={en:[{path:"/",title:"Главная",description:"Welcome to FastFoodTips, the perfect platform created for you to make money from your work. Create, sell, develop, and we will help you with this! We always welcome new people, with love FastFoodTips!",ogTitle:"Главная",ogDescription:"Explore FastFoodTips, a platform where people from all over the world post their creations.Explore them, participate in competitions and be active. Join us today!",ogImage:"favicon.ico",ogUrl:" ".concat(y," /")},{path:"/my-link",title:"Ваша ссылка",description:"Welcome to FastFoodTips, the perfect platform created for you to make money from your work. Create, sell, develop, and we will help you with this! We always welcome new people, with love FastFoodTips!",ogTitle:"Ваша ссылка на перевод",ogDescription:"Explore FastFoodTips, a platform where people from all over the world post their creations.Explore them, participate in competitions and be active. Join us today!",ogImage:"favicon.ico",ogUrl:"".concat(y,"/my-link")},{path:"/auth",title:"Вход в аккаунт",description:"Login to your FastFoodTips account to access your personalized profile, connect with others, and take advantage of exclusive features.",ogTitle:"Вход в ваш аккаунт",ogDescription:"Log in to your FastFoodTips account to stay connected with the global community of programmers, manage your projects, and engage in meaningful technical discussions.",ogUrl:"".concat(y,"/auth")},{path:"/auth/create",title:"Создание аккаунта",description:"Sign up for FastFoodTips to become a part of a dynamic network of developers. Personalize your profile, access tutorials, and engage with experts in coding and programming.",ogTitle:"Создание аккаунта",ogDescription:"Register now and start your journey on FastFoodTips, a platform designed for developers to connect, learn, and grow. Unlock exclusive content and tools for your programming career.",ogUrl:"".concat(y," /auth/create")},{path:"/auth/verify",title:"Верификация аккаунта",description:"Complete the verification process by confirming your email address. This step ensures the security of your account and allows you to activate your full FastFoodTips membership.",ogTitle:"Верификация аккаунта",ogDescription:"Verify your email to finish setting up your FastFoodTips account. Ensure your information is accurate and secure to start connecting with other developers on the platform.",ogUrl:"".concat(y," / auth / verify")},{path:"/settings",title:"Настройки профиля",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"Настройки вашего профиля",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(y,"/settings")},{path:"/settings/change-password",title:"Смена пароля",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"Смена вашего пароля",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(y,"/settings/change-password")},{path:"/pay",title:"Введите код получателя",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"Введите код получателя чаевых",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(y,"/settings/change-password")},{path:"/pay/*",title:"Отправка чаевых",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"Отправьте чаевые",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(y,"/settings/change-password")},{path:"/license",title:"Лицензионное соглашение",description:"Manage your account settings, privacy preferences, and notification options. Tailor your FastFoodTips experience to suit your needs and preferences as a programmer.",ogTitle:"Отправьте чаевые",ogDescription:"Adjust your FastFoodTips settings to enhance your experience. Customize notifications, account details, and privacy settings to get the most out of the platform.",ogUrl:"".concat(y,"/settings/change-password")},{path:"*",title:"Такой страницы нет",description:"Oops! The page you are looking for does not exist. Please return to the homepage or contact our support team if you need assistance.",ogTitle:"404 Page Not Found | Lost in Space?",ogDescription:"The page you requested couldn't be found. Go back to the home page or reach out for help if you need assistance navigating FastFoodTips.",ogUrl:"".concat(y,"/404")}]},yt=t=>({"@context":"http://schema.org","@type":"WebPage",url:"".concat(y).concat(t),name:"VeilPay",description:"VeilPay - This is an online service for making transfers and payments, the main point of which is anonymity."}),vt=(t,s,a="en")=>{const o=le[a].find(n=>n.path===t)||le[a].find(n=>n.path==="*");return{title:(s==null?void 0:s.title)||(o==null?void 0:o.title)||"VeilPay",meta:{charset:"utf-8",viewport:"width=device-width, initial-scale=1",description:(s==null?void 0:s.description)||(o==null?void 0:o.description)||"VeilPay is your go-to platform.","og:title":(s==null?void 0:s["og:title"])||(o==null?void 0:o.ogTitle)||(o==null?void 0:o.title),"og:description":(s==null?void 0:s["og:description"])||(o==null?void 0:o.ogDescription)||(o==null?void 0:o.description),"og:url":(s==null?void 0:s["og:url"])||(o==null?void 0:o.ogUrl)||"".concat(y).concat(t),"og:image":(s==null?void 0:s["og:image"])||(o==null?void 0:o.ogImage)||Y,"og:type":"website","twitter:card":"summary_large_image","twitter:title":(s==null?void 0:s["twitter:title"])||(o==null?void 0:o.ogTitle)||(o==null?void 0:o.title),"twitter:description":(s==null?void 0:s["twitter:description"])||(o==null?void 0:o.ogDescription)||(o==null?void 0:o.description),"twitter:image":(s==null?void 0:s["twitter:image"])||Y},link:[{rel:(s==null?void 0:s["link:rel"])||"icon",href:(s==null?void 0:s["link:href"])||Y}],script:[{type:"application/ld+json",innerHTML:JSON.stringify(yt(t))}]}},_e=()=>{const t=u.useContext(xe);if(!t)throw new Error("useDynamicMeta must be used within a DynamicMetaProvider");return t},wt=()=>{var r,n,c,i;const t=K(),s=t.pathname.endsWith("/")?t.pathname.slice(0,-1):t.pathname,{dynamicMeta:a}=_e(),o=u.useMemo(()=>vt(s||"/",a),[s,a]);return e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsx("title",{children:o.title}),e.jsx("meta",{charSet:o.meta.charset}),e.jsx("meta",{name:"viewport",content:o.meta.viewport}),e.jsx("meta",{name:"description",content:o.meta.description}),e.jsx("meta",{property:"og:title",content:o.meta["og:title"]}),e.jsx("meta",{property:"og:description",content:o.meta["og:description"]}),e.jsx("meta",{property:"og:url",content:o.meta["og:url"]}),e.jsx("meta",{property:"og:image",content:o.meta["og:image"]}),e.jsx("meta",{property:"og:type",content:o.meta["og:type"]}),e.jsx("meta",{name:"twitter:card",content:o.meta["twitter:card"]}),e.jsx("meta",{name:"twitter:title",content:o.meta["twitter:title"]}),e.jsx("meta",{name:"twitter:description",content:o.meta["twitter:description"]}),e.jsx("meta",{name:"twitter:image",content:o.meta["twitter:image"]}),((n=(r=o.link)==null?void 0:r[0])==null?void 0:n.href)&&e.jsx("link",{rel:"icon",href:o.link[0].href}),((i=(c=o.script)==null?void 0:c[0])==null?void 0:i.innerHTML)&&e.jsx("script",{type:"application/ld+json",children:o.script[0].innerHTML})]}),e.jsx(X,{})]})},Nt="_main_4gebu_1",bt="_content_4gebu_6",kt="_container_4gebu_12",St="_nav_4gebu_19",$t="_close_4gebu_36",Tt="_active_4gebu_48",Ft="_overlay_4gebu_52",Pt="_list_4gebu_66",Ct="_btn_4gebu_87",F={main:Nt,content:bt,container:kt,nav:St,close:$t,active:Tt,overlay:Ft,list:Pt,btn:Ct},R=Le,Bt="_header_114gk_1",At="_balance_114gk_9",Lt="_exit_114gk_13",Dt="_container_114gk_25",V={header:Bt,balance:At,exit:Lt,container:Dt},Et=({handleActive:t})=>{const{email:s,balance:a}=R(o=>o.authReducer);return e.jsx("header",{className:V.header,children:e.jsxs("div",{className:V.container,children:[e.jsxs("p",{className:V.balance,children:[a,"₽"]}),e.jsx($,{to:m.root,children:s}),e.jsx("button",{className:V.exit,onClick:()=>t(!0),children:"≡"})]})})},je=t=>{try{const a=M.AES.decrypt(t,"sidfjinvjsd938u4hfjsjfNf").toString(M.enc.Utf8);return JSON.parse(a)}catch(s){return console.log("Failed to decrypt data:",s),null}},Ut=({handleActive:t,active:s})=>{const a=E(),o=K(),r=L();u.useEffect(()=>{t(!1)},[o]);const n=()=>{a(ge()),r(m.auth,{replace:!0})};return e.jsxs("nav",{className:w(F.nav,{[F.active]:s}),children:[e.jsx("p",{className:F.close,onClick:()=>t(!1),children:"X"}),e.jsxs("ul",{className:F.list,children:[e.jsx("li",{children:e.jsx($,{to:m.root,children:"Главная"})}),e.jsx("li",{children:e.jsx($,{to:m.settings,children:"Настройки"})}),e.jsx("li",{children:e.jsx($,{to:m.myLink,children:"Моя ссылка"})})]}),e.jsx("button",{type:"button",onClick:n,className:F.btn,children:"Выйти"})]})},It=()=>{const{email:t}=R(p=>p.authReducer),s=E(),a=L(),[o,r]=u.useState(!1),[n,{isLoading:c,error:i}]=oe(),l=u.useMemo(()=>je(localStorage.getItem("user")||"null"),[]),g=async()=>{try{const p=await n({id:(l==null?void 0:l.id)||""}).unwrap();if("message"in p)throw s(ge()),new Error(p.message);s(I(p))}catch(p){return a(m.create,{replace:!0})}};return u.useEffect(()=>{if(!t&&!(l!=null&&l.email))return a(m.auth,{replace:!0});g()},[l,t]),c?e.jsx("p",{children:"Загрузка..."}):i?e.jsx("p",{children:"Произошла ошибка"}):e.jsxs("div",{className:F.main,children:[o&&e.jsx("div",{className:F.overlay,onClick:()=>r(!1)}),e.jsxs("div",{className:F.content,children:[e.jsx(Et,{handleActive:r}),e.jsx("section",{className:F.container,children:e.jsx(X,{})})]}),e.jsx(Ut,{handleActive:r,active:o})]})},qt="_form_12jsg_1",Ot="_msg_12jsg_10",ue={form:qt,msg:Ot};function ye(t){const[s,a]=u.useState(),[o,r]=u.useState(!0),n=async()=>{r(!0);try{const c=await je(t);a(c),r(!1)}catch(c){return null}};return u.useEffect(()=>{n()},[]),[s,o]}const Rt=()=>{var f,_;const{formState:{errors:t},handleSubmit:s,register:a,reset:o}=O({mode:"all"}),[r,{isLoading:n}]=dt(),[c,i]=ye(localStorage.getItem("user")),l=E(),[g,p]=u.useState(""),h=async j=>{try{await r({...j,userId:c.id}).unwrap(),p("Пароль успешно изменен"),l(I({...c,...j})),o()}catch(N){p(N.data.message),console.log(D(N))}};return i?e.jsx("p",{children:"Загрузка..."}):e.jsxs("form",{className:ue.form,onSubmit:s(h),children:[e.jsx(T,{error:(f=t.newPassword)==null?void 0:f.message,type:"password",...a("newPassword",ee),title:"Новый пароль"}),e.jsx(T,{error:(_=t.oldPassword)==null?void 0:_.message,type:"text",...a("oldPassword",ee),title:"Старый пароль"}),g&&e.jsx("p",{className:ue.msg,children:g}),e.jsx(A,{children:n?"Загрузка...":"Отправить"})]})},Vt="_form_12jsg_1",Ht="_msg_12jsg_10",de={form:Vt,msg:Ht},zt=()=>{var f,_,j;const[t,s]=ye(localStorage.getItem("user")),[a,{isLoading:o}]=ut(),r=E(),[n,c]=u.useState(""),{formState:{errors:i},handleSubmit:l,register:g,reset:p}=O({mode:"all",defaultValues:{firstname:"",lastname:"",fathername:""}});u.useEffect(()=>{t&&p({firstname:t.firstname||"",lastname:t.lastname||"",fathername:t.fathername||""})},[t,p]);const h=async N=>{try{const b=await a({...t,...N}).unwrap();c(b.message),r(I({...t,...N}))}catch(b){c(b.data.message),console.log(D(b))}};return s?e.jsx("p",{children:"Загрузка..."}):e.jsxs("form",{className:de.form,onSubmit:l(h),children:[e.jsx(T,{error:(f=i.firstname)==null?void 0:f.message,type:"text",...g("firstname"),placeholder:"Иван",title:"Имя"}),e.jsx(T,{error:(_=i.lastname)==null?void 0:_.message,type:"text",...g("lastname"),placeholder:"Иванов",title:"Фамилия"}),e.jsx(T,{error:(j=i.fathername)==null?void 0:j.message,type:"text",...g("fathername"),placeholder:"Иванович",title:"Отчество"}),n&&e.jsx("p",{className:de.msg,children:n}),e.jsx(A,{children:o?"Загрузка...":"Применить"})]})},Jt="_login_10iu6_1",Qt="_top_10iu6_7",Wt="_title_10iu6_10",H={login:Jt,top:Qt,title:Wt},Gt=()=>e.jsxs("div",{className:H.login,children:[e.jsxs("header",{className:H.top,children:[e.jsx("h1",{className:H.title,children:"Войти в аккаунт"}),e.jsxs("p",{className:H.subtitle,children:["Ещё не аккаунта? ",e.jsx($,{to:m.create,children:"Создайте его"}),"."]})]}),e.jsx(ct,{})]}),Zt="_login_10iu6_1",Kt="_top_10iu6_7",Xt="_title_10iu6_10",z={login:Zt,top:Kt,title:Xt},Yt=()=>e.jsxs("div",{className:z.login,children:[e.jsxs("header",{className:z.top,children:[e.jsx("h1",{className:z.title,children:"Создайте аккаунт"}),e.jsxs("p",{className:z.subtitle,children:["Уже есть аккаунт? ",e.jsx($,{to:m.auth,children:"Войти"}),"."]})]}),e.jsx(it,{})]}),Mt="_login_10iu6_1",es="_top_10iu6_7",ts="_title_10iu6_10",J={login:Mt,top:es,title:ts},ss=()=>{const t=K();return t.state?e.jsxs("div",{className:J.login,children:[e.jsxs("header",{className:J.top,children:[e.jsx("h1",{className:J.title,children:"Введите код пришедший вам по смс"}),e.jsxs("p",{className:J.subtitle,children:["Не приходит код? ",e.jsx($,{to:m.create,children:"Отправить код снова"}),"."]})]}),e.jsx(ot,{email:t.state.email,password:t.state.password})]}):e.jsx(me,{to:m.create,replace:!0})},os="_title_c49cy_1",ns="_content_c49cy_5",rs="_card_c49cy_24",as="_colmn_c49cy_36",is="_middle_c49cy_47",cs="_header_c49cy_52",ls="_value_c49cy_56",x={title:os,content:ns,"user-info":"_user-info_c49cy_10",card:rs,colmn:as,"on-week":"_on-week_c49cy_39",middle:is,header:cs,value:ls,"info-of-week":"_info-of-week_c49cy_66"},us="_info_1bd8p_6",ds="_id_1bd8p_10",ms="_photo_1bd8p_14",q={"text-info":"_text-info_1bd8p_1",info:us,id:ds,photo:ms},ve="/assets/icons8-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-%D0%B1%D0%B5%D0%B7-%D0%BF%D0%BE%D0%BB%D0%BE%D0%B2%D1%8B%D1%85-%D0%BF%D1%80%D0%B8%D0%B7%D0%BD%D0%B0%D0%BA%D0%BE%D0%B2-100-znFYwglH.png",we=()=>{const t=R(n=>n.authReducer),[s,{isLoading:a}]=mt(),o=E(),r=n=>{if(n.target.files&&n.target.files[0]){const c=n.target.files[0];if(!c)return;try{const i=new FileReader;i.readAsDataURL(c),i.onload=async function(){if(await s({avatar:i.result,id:t.id}).unwrap(),!("url"in s))return new Error("Произошла ошибка при загрузке аватара");console.log(s),o(I({...t,avatarurl:s.url}))},i.onerror=function(){console.log(i.error)}}catch(i){console.log(i)}}};return u.useEffect(()=>{console.log(t)},[t]),a||!t?e.jsx("p",{children:"Загрузка..."}):e.jsxs("div",{className:q["text-info"],children:[e.jsxs("label",{htmlFor:"user-photo-input",className:q.photo,children:[e.jsx("img",{src:t.avatarurl?t.avatarurl:ve,alt:""}),e.jsx("input",{onChange:r,type:"file",id:"user-photo-input"})]}),e.jsxs("div",{className:q.info,children:[e.jsx("p",{className:q.id,children:t.id}),e.jsx("p",{className:q.email,children:t.email})]})]})},ps=()=>{const{balance:t}=R(s=>s.authReducer);return e.jsxs("div",{className:x.card,children:[e.jsxs("div",{className:w(x.header,x.colmn),children:[e.jsx("p",{className:x.haw,children:"Доступно для вывода"}),e.jsxs("p",{className:x.value,children:[t," ₽"]})]}),e.jsxs("div",{className:w(x.middle,x.colmn),children:[e.jsx("p",{className:x["on-week"],children:"За неделю"}),e.jsxs("div",{className:x["info-of-week"],children:[e.jsxs("div",{className:x.colmn,children:["Чаевые",e.jsx("p",{className:x.value,children:"0 ₽"})]}),e.jsxs("div",{className:x.colmn,children:["Выведено",e.jsx("p",{className:x.value,children:"0 ₽"})]})]})]})]})},hs=()=>e.jsxs("div",{className:x.home,children:[e.jsx("h1",{className:x.title,children:"Ваша информация"}),e.jsxs("div",{className:x.content,children:[e.jsxs("section",{className:x["user-info"],children:[e.jsx(we,{}),e.jsx(ps,{})]}),e.jsx("section",{className:x["last-transactions"],children:e.jsx("h1",{className:x.title,children:"Последние действия"})})]})]}),gs="_license_1svla_1",fs="_title_1svla_7",xs="_subtitle_1svla_7",_s="_container_1svla_16",js="_list_1svla_25",ys="_value_1svla_31",d={license:gs,title:fs,subtitle:xs,container:_s,list:js,value:ys,"sub-list":"_sub-list_1svla_38","last-subtitle":"_last-subtitle_1svla_43"},vs=()=>e.jsx("div",{className:d.license,children:e.jsxs("div",{className:d.container,children:[e.jsx("h2",{className:d.title,children:"ЛИЦЕНЗИОННОЕ СОГЛАШЕНИЕ ДЛЯ ПОЛЬЗОВАТЕЛЕЙ САЙТА FASTFOOD-TIPS.RU"}),e.jsx("h5",{className:d.subtitle,children:"Настоящее Лицензионное соглашение (далее – «Соглашение») регулирует отношения между Пользователем и Владельцем сайта fastfood-tips.ru (далее – «Сайт»), касающиеся использования Сайта и размещенного на нем контента."}),e.jsxs("ul",{className:d.list,children:[e.jsxs("li",{children:["1. Общие положения",e.jsxs("ul",{className:w(d.list,d["sub-list"]),children:[e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"1.1."}),"Настоящим Соглашением устанавливаются условия и порядок использования Сайта, а также права и обязанности сторон."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"1.2."}),"Пользователь соглашается с условиями настоящего Соглашения путем регистрации на Сайте и/или начала использования его функционала."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"1.3."}),"Все материалы, размещенные на Сайте, являются интеллектуальной собственностью Владельца Сайта либо третьих лиц, имеющих соответствующие права на использование таких материалов."]})]})]}),e.jsxs("li",{children:["2. Права и обязанности Пользователя",e.jsxs("ul",{className:w(d.list,d["sub-list"]),children:[e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"2.1."}),"Пользователь имеет право: Использовать Сайт исключительно в личных некоммерческих целях; Копировать информацию с Сайта только для личного использования при условии сохранения всех авторских прав и иных уведомлений о правах собственности; Получать доступ к функционалу Сайта в соответствии с установленными правилами пользования."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"2.2."}),"Пользователь соглашается с условиями настоящего Соглашения путем регистрации на Сайте и/или начала использования его функционала."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"2.3."}),"Пользователь обязуется: Не использовать Сайт для распространения незаконной информации, спама, вредоносных программ и другого контента, нарушающего законодательство Российской Федерации; Соблюдать авторские права и иные права интеллектуальной собственности на контент, размещенный на Сайте; Не предпринимать попыток несанкционированного доступа к функциональным возможностям Сайта, не предусмотренным настоящим Соглашением."]})]})]}),e.jsxs("li",{children:["3. Права и обязанности Владельца Сайта",e.jsxs("ul",{className:w(d.list,d["sub-list"]),children:[e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"3.1."}),"Владелец Сайта имеет право: Изменять настоящее Соглашение в одностороннем порядке, уведомляя об этом Пользователей через публикацию новой версии Соглашения на Сайте; Приостанавливать или прекращать предоставление услуг Сайта по своему усмотрению; Ограничивать доступ Пользователя к Сайту в случае нарушения условий настоящего Соглашения."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"3.2."}),"Владелец Сайта обязуется: Предоставлять Пользователю возможность пользоваться функционалом Сайта в рамках настоящего Соглашения; Защищать персональные данные Пользователя в соответствии с законодательством Российской Федерации."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"2.3."}),"Пользователь обязуется: Не использовать Сайт для распространения незаконной информации, спама, вредоносных программ и другого контента, нарушающего законодательство Российской Федерации; Соблюдать авторские права и иные права интеллектуальной собственности на контент, размещенный на Сайте; Не предпринимать попыток несанкционированного доступа к функциональным возможностям Сайта, не предусмотренным настоящим Соглашением."]})]})]}),e.jsxs("li",{children:["4. Ответственность сторон",e.jsxs("ul",{className:w(d.list,d["sub-list"]),children:[e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"4.1."}),"Пользователь несет полную ответственность за любые действия, совершенные им на Сайте, включая нарушение законодательства Российской Федерации."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"4.2."}),"Владелец Сайта не несет ответственности за любой ущерб, причиненный Пользователю вследствие использования Сайта, за исключением случаев, предусмотренных действующим законодательством Российской Федерации."]})]})]}),e.jsxs("li",{children:["5. Заключительные положения",e.jsxs("ul",{className:w(d.list,d["sub-list"]),children:[e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"5.1."}),"Настоящее Соглашение вступает в силу с момента принятия его условий Пользователем и действует до тех пор, пока одна из сторон не заявит о своем намерении прекратить действие Соглашения."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"5.2."}),"Любые споры, возникающие в связи с исполнением настоящего Соглашения, разрешаются в судебном порядке в соответствии с законодательством Российской Федерации."]}),e.jsxs("li",{className:d.value,children:[e.jsx("span",{children:"5.3."}),"Если какое-либо положение настоящего Соглашения будет признано недействительным или неисполнимым, остальные положения остаются в силе."]})]})]})]}),e.jsx("h5",{className:w(d.subtitle,d["last-subtitle"]),children:"Пользователи, продолжающие использовать Сайт после внесения изменений в настоящее Соглашение, автоматически принимают такие изменения."})]})}),ws="_qrcode_10fi2_1",Ns="_title_10fi2_6",bs="_bottom_10fi2_10",ks="_link_10fi2_23",Ss="_content_10fi2_29",$s="_done_10fi2_43",Ts="_error_10fi2_47",Fs="_code_10fi2_51",Ps="_copy_10fi2_56",S={qrcode:ws,title:Ns,bottom:bs,link:ks,content:Ss,done:$s,error:Ts,code:Fs,"copy-link":"_copy-link_10fi2_56",copy:Ps},Cs=()=>{var c;const t=R(i=>i.authReducer),[s,a]=u.useState({type:!1,text:""}),o="".concat(m.pay,"/").concat(t.id),r="httpы://fastfood-tips.ru".concat(o),n=async()=>{try{await navigator.clipboard.writeText(r),a({type:!0,text:"Ссылка скопирована!"}),setTimeout(()=>{a({type:!1,text:""})},3e3)}catch(i){a({type:!1,text:"Ссылка не была скопирована!"}),console.error("Ошибка копирования:",i)}};return e.jsxs("div",{className:S["my-link"],children:[e.jsx("h1",{className:S.title,children:"Ваш QR код для получения чаевых"}),e.jsxs("div",{className:S.content,children:[e.jsx("div",{onClick:n,className:S["copy-link"],children:e.jsxs("div",{className:S.copy,children:[r,s.text&&e.jsx("p",{className:S[s.type?"done":"error"],children:s.text})]})}),e.jsxs("div",{className:S.bottom,children:[e.jsx($,{className:S.link,to:o,children:e.jsx(De,{bgColor:"#2b2738",fgColor:"white",value:"httpы://fastfood-tips.ru"+o,className:S.qrcode})}),e.jsx("p",{className:S.code,children:(c=t.id)==null?void 0:c.toString()})]})]})]})},Bs="_pay_1gn6k_1",As="_form_1gn6k_7",Ls="_title_1gn6k_12",Q={pay:Bs,form:As,title:Ls},Ds=()=>{const[t,s]=u.useState(""),a=L(),[o,{isLoading:r}]=oe(),[n,c]=u.useState(""),i=p=>{var f;const h=p.replace(/[^a-zA-Z0-9]/g,"");return((f=h.match(/.{1,3}/g))==null?void 0:f.join("-"))||h},l=p=>{const h=p.target.value,f=i(h);s(f)},g=async p=>{p.preventDefault();try{const h=await o({id:t});if("message"in h)throw new Error(h.message);if("error"in h)throw new Error(h.error);a("".concat(m.pay,"/").concat(t))}catch(h){console.log(D(h)),c("Ошибка при получении пользователя, попробуйте позже")}};return e.jsx("div",{className:Q.pay,children:e.jsxs("form",{className:Q.form,onSubmit:g,children:[e.jsx("p",{className:Q.title,children:"Введите код получателя"}),e.jsx(T,{error:n&&n,maxLength:7,onChange:l,value:t,type:"text",placeholder:"Введите код получателя",className:Q.input}),e.jsx(A,{children:r?"Переход...":"Перейти"})]})})},Es="_pay_2x3oq_1",Us="_container_2x3oq_7",Is="_avatar_2x3oq_17",qs="_userInfo_2x3oq_25",Os="_form_2x3oq_39",Rs="_quickAmounts_2x3oq_46",Vs="_amountButton_2x3oq_53",B={pay:Es,container:Us,avatar:Is,userInfo:qs,form:Os,quickAmounts:Rs,amountButton:Vs},Hs=()=>{var ne;const{id:t}=Ee(),[s,a]=u.useState(),[o,r]=u.useState(),[n,c]=u.useState(!0),[i]=oe(),[l]=lt(),{setDynamicMeta:g}=_e(),{formState:{errors:p},handleSubmit:h,register:f,setValue:_,watch:j}=O({mode:"all"}),N=[100,200,400,600,1e3],b=j("amount"),Ne=k=>{const v=b?parseInt(b):0;isNaN(v)?_("amount",k.toString()):_("amount",(v+k).toString())};u.useEffect(()=>{const k=async()=>{if(!t){r("ID пользователя не указан"),c(!1);return}try{const v=await i({id:t}).unwrap();"message"in v?r(v.message):a(v)}catch(v){r(v instanceof Error?v.message:"Неизвестная ошибка")}finally{c(!1)}};g({title:"Отправить чаевые для ".concat(s==null?void 0:s.firstname),"og:title":"Отправка чаевых для ".concat(s==null?void 0:s.firstname),"og:description":"Отправка чаевых для ".concat(s==null?void 0:s.firstname),"og:image":"".concat(s==null?void 0:s.avatarurl)}),k()},[t,i]);const be=async k=>{try{const v=await l({amount:k.amount,userId:t}).unwrap();window.location.href=v.confirmationUrl}catch(v){console.log(D(v))}};return n?e.jsx("div",{children:"Загрузка..."}):o?e.jsx(me,{to:m.root,replace:!0}):s?e.jsx("div",{className:B.pay,children:e.jsxs("div",{className:B.container,children:[e.jsx("img",{className:B.avatar,src:s.avatarurl||ve,alt:"User avatar"}),e.jsxs("div",{className:B.userInfo,children:[e.jsx("h3",{children:[s.lastname,s.firstname,s.fathername].filter(Boolean).join(" ")||"Пользователь"}),e.jsx("p",{children:s.email})]}),e.jsxs("form",{className:B.form,onSubmit:h(be),children:[e.jsx(T,{value:b,error:(ne=p.amount)==null?void 0:ne.message,type:"number",min:"0",...f("amount"),placeholder:"0₽",title:"Сумма перевода"}),e.jsx("div",{className:B.quickAmounts,children:N.map(k=>e.jsxs(A,{className:B.amountButton,type:"button",onClick:()=>Ne(k),children:[k," ₽"]},k))}),e.jsx(A,{children:n?"Перевод...":"Перевести"})]})]})}):e.jsx("div",{children:"Пользователь не найден"})},zs="_title_u1qmu_1",Js="_container_u1qmu_5",Qs="_left_u1qmu_20",Ws="_right_u1qmu_20",Gs="_active_u1qmu_28",P={title:zs,container:Js,left:Qs,right:Ws,active:Gs},Zs=()=>e.jsxs("div",{className:P.settings,children:[e.jsx("h1",{className:P.title,children:"Настройки профиля"}),e.jsxs("div",{className:P.container,children:[e.jsxs("div",{className:P.left,children:[e.jsx(we,{}),e.jsx(ae,{activeClassName:P.active,to:m.changePassword,children:"→ Сменить пароль"}),e.jsx(ae,{activeClassName:P.active,to:m.settings,children:"→ Мои данные"})]}),e.jsxs("div",{className:P.right,children:[e.jsx("h1",{className:P.title,children:"Ваши данные"}),e.jsx(X,{})]})]})]}),Ks=[{path:m.root,element:e.jsx(Je,{children:e.jsx(wt,{})}),children:[{element:e.jsx(It,{}),children:[{index:!0,element:e.jsx(hs,{})},{path:m.settings,element:e.jsx(Zs,{}),children:[{index:!0,element:e.jsx(zt,{})},{path:m.changePassword,element:e.jsx(Rt,{})}]},{path:m.myLink,element:e.jsx(Cs,{})}]},{path:m.pay,element:e.jsx(Ds,{})},{path:m.pay+"/:id",element:e.jsx(Hs,{})},{path:m.auth,element:e.jsx(jt,{}),children:[{path:m.create,element:e.jsx(Yt,{})},{index:!0,element:e.jsx(Gt,{})},{path:m.verify,element:e.jsx(ss,{})}]},{path:m.license,element:e.jsx(vs,{})},{path:m.authorInfo,element:e.jsx("p",{children:"ИНН: 671100856969 Email: fastfood.tips2024@gmail.com Phone: +79671963181"})},{path:"*",element:e.jsx("p",{children:"Not found page"})}]}],Xs=Ue(Ks),Ys=()=>e.jsx(Ie,{router:Xs}),Ms=()=>e.jsx(ft,{children:e.jsx(Ys,{})});qe(document.getElementById("root")).render(e.jsx(Ms,{}));export{eo as __vite_legacy_guard};
